(function(){bender.loadExternalPlugin("exportpdf","/apps/plugin/");CKEDITOR.plugins.load("exportpdf",(function(){function a(a){var e=exportPdfUtils.getDefaultConfig("unit",a.extraConfig||{});bender.editorBot.create({name:"editor"+Date.now(),config:e,creator:a.creator},(function(d){var c=d.editor;d.setHtmlWithSelection(a.initialHtml);c.once("exportPdf",(function(b){assert.areEqual(a.initialHtml,b.data.html)}),null,null,10);c.once("exportPdf",(function(b){b.cancel();a.expectCss?assert.isNotUndefined(b.data.css,"Some CSS should be sent."):assert.isUndefined(b.data.css,"No CSS should be sent.");assert.areEqual(a.expectedHtml,b.data.html,"HTML is incorrect.")}),null,null,16);c.execCommand("exportPdf")}))}bender.test({setUp:function(){bender.tools.ignoreUnsupportedEnvironment("exportpdf")},"test no custom stylesheets attached to divarea editor":function(){a({creator:"replace",initialHtml:'<p id="test">Hello, World!</p>',expectedHtml:'<div class="cke_editable cke_contents_ltr"><p id="test">Hello, World!</p></div>',expectCss:!1})},"test one absolute path custom stylesheet attached to divarea editor":function(){a({creator:"replace",initialHtml:'<p id="test">Hello, World!</p>',expectedHtml:'<link type="text/css" rel=stylesheet href="https://ckeditor.com/"><div class="cke_editable cke_contents_ltr"><p id="test">Hello, World!</p></div>',expectCss:!1,extraConfig:{exportPdf_stylesheets:["https://ckeditor.com"]}})},"test two absolute path custom stylesheets attached to divarea editor":function(){a({creator:"replace",initialHtml:'<p id="test">Hello, World!</p>',expectedHtml:'<link type="text/css" rel=stylesheet href="https://ckeditor.css/"><link type="text/css" rel=stylesheet href="https://cksource.css/"><div class="cke_editable cke_contents_ltr"><p id="test">Hello, World!</p></div>',expectCss:!1,extraConfig:{exportPdf_stylesheets:["https://ckeditor.css","https://cksource.css"]}})},"test one relative path custom stylesheet attached to divarea editor":function(){a({creator:"replace",initialHtml:'<p id="test">Hello, World!</p>',expectedHtml:'<link type="text/css" rel=stylesheet href="'+exportPdfUtils.toAbsoluteUrl("/css/ckeditor.css")+'"><div class="cke_editable cke_contents_ltr"><p id="test">Hello, World!</p></div>',expectCss:!1,extraConfig:{exportPdf_stylesheets:["/css/ckeditor.css"]}})},"test two relative path custom stylesheets attached to divarea editor":function(){a({creator:"replace",initialHtml:'<p id="test">Hello, World!</p>',expectedHtml:'<link type="text/css" rel=stylesheet href="'+exportPdfUtils.toAbsoluteUrl("/css/ckeditor.css")+'"><link type="text/css" rel=stylesheet href="'+exportPdfUtils.toAbsoluteUrl("/css/cksource.css")+'"><div class="cke_editable cke_contents_ltr"><p id="test">Hello, World!</p></div>',expectCss:!1,extraConfig:{exportPdf_stylesheets:["/css/ckeditor.css","/css/cksource.css"]}})},"test one relative and one absolute path custom stylesheets attached to divarea editor":function(){a({creator:"replace",initialHtml:'<p id="test">Hello, World!</p>',expectedHtml:'<link type="text/css" rel=stylesheet href="'+exportPdfUtils.toAbsoluteUrl("/css/ckeditor.css")+'"><link type="text/css" rel=stylesheet href="https://ckeditor.com/"><div class="cke_editable cke_contents_ltr"><p id="test">Hello, World!</p></div>',expectCss:!1,extraConfig:{exportPdf_stylesheets:["/css/ckeditor.css","https://ckeditor.com"]}})},"test no custom stylesheets attached to inline editor":function(){a({creator:"inline",initialHtml:'<p id="test">Hello, World!</p>',expectedHtml:'<div class="cke_editable cke_contents_ltr"><p id="test">Hello, World!</p></div>',expectCss:!1})},"test one absolute path custom stylesheet attached to inline editor":function(){a({creator:"inline",initialHtml:'<p id="test">Hello, World!</p>',expectedHtml:'<link type="text/css" rel=stylesheet href="https://ckeditor.com/"><div class="cke_editable cke_contents_ltr"><p id="test">Hello, World!</p></div>',expectCss:!1,extraConfig:{exportPdf_stylesheets:["https://ckeditor.com"]}})},"test two absolute path custom stylesheets attached to inline editor":function(){a({creator:"inline",initialHtml:'<p id="test">Hello, World!</p>',expectedHtml:'<link type="text/css" rel=stylesheet href="https://ckeditor.css/"><link type="text/css" rel=stylesheet href="https://cksource.css/"><div class="cke_editable cke_contents_ltr"><p id="test">Hello, World!</p></div>',expectCss:!1,extraConfig:{exportPdf_stylesheets:["https://ckeditor.css","https://cksource.css"]}})},"test one relative path custom stylesheet attached to inline editor":function(){a({creator:"inline",initialHtml:'<p id="test">Hello, World!</p>',expectedHtml:'<link type="text/css" rel=stylesheet href="'+exportPdfUtils.toAbsoluteUrl("/css/ckeditor.css")+'"><div class="cke_editable cke_contents_ltr"><p id="test">Hello, World!</p></div>',expectCss:!1,extraConfig:{exportPdf_stylesheets:["/css/ckeditor.css"]}})},"test two relative path custom stylesheets attached to inline editor":function(){a({creator:"inline",initialHtml:'<p id="test">Hello, World!</p>',expectedHtml:'<link type="text/css" rel=stylesheet href="'+exportPdfUtils.toAbsoluteUrl("/css/ckeditor.css")+'"><link type="text/css" rel=stylesheet href="'+exportPdfUtils.toAbsoluteUrl("/css/cksource.css")+'"><div class="cke_editable cke_contents_ltr"><p id="test">Hello, World!</p></div>',expectCss:!1,extraConfig:{exportPdf_stylesheets:["/css/ckeditor.css","/css/cksource.css"]}})},"test one relative and one absolute path custom stylesheets attached to inline editor":function(){a({creator:"inline",initialHtml:'<p id="test">Hello, World!</p>',expectedHtml:'<link type="text/css" rel=stylesheet href="'+exportPdfUtils.toAbsoluteUrl("/css/ckeditor.css")+'"><link type="text/css" rel=stylesheet href="https://ckeditor.com/"><div class="cke_editable cke_contents_ltr"><p id="test">Hello, World!</p></div>',expectCss:!1,extraConfig:{exportPdf_stylesheets:["/css/ckeditor.css","https://ckeditor.com"]}})},"test no custom stylesheets attached to classic editor":function(){a({creator:"replace",initialHtml:'<p id="test">Hello, World!</p>',expectedHtml:'<div class="cke_editable cke_contents_ltr"><p id="test">Hello, World!</p></div>',expectCss:!0,extraConfig:{removePlugins:"divarea"}})},"test one absolute path custom stylesheet attached to classic editor":function(){a({creator:"replace",initialHtml:'<p id="test">Hello, World!</p>',expectedHtml:'<link type="text/css" rel=stylesheet href="https://ckeditor.com/"><div class="cke_editable cke_contents_ltr"><p id="test">Hello, World!</p></div>',expectCss:!1,extraConfig:{removePlugins:"divarea",exportPdf_stylesheets:["https://ckeditor.com"]}})},"test two absolute path custom stylesheets attached to classic editor":function(){a({creator:"replace",initialHtml:'<p id="test">Hello, World!</p>',expectedHtml:'<link type="text/css" rel=stylesheet href="https://ckeditor.css/"><link type="text/css" rel=stylesheet href="https://cksource.css/"><div class="cke_editable cke_contents_ltr"><p id="test">Hello, World!</p></div>',expectCss:!1,extraConfig:{removePlugins:"divarea",exportPdf_stylesheets:["https://ckeditor.css","https://cksource.css"]}})},"test one relative path custom stylesheet attached to classic editor":function(){a({creator:"replace",initialHtml:'<p id="test">Hello, World!</p>',expectedHtml:'<link type="text/css" rel=stylesheet href="'+exportPdfUtils.toAbsoluteUrl("/css/ckeditor.css")+'"><div class="cke_editable cke_contents_ltr"><p id="test">Hello, World!</p></div>',expectCss:!1,extraConfig:{removePlugins:"divarea",exportPdf_stylesheets:["/css/ckeditor.css"]}})},"test two relative path custom stylesheets attached to classic editor":function(){a({creator:"replace",initialHtml:'<p id="test">Hello, World!</p>',expectedHtml:'<link type="text/css" rel=stylesheet href="'+exportPdfUtils.toAbsoluteUrl("/css/ckeditor.css")+'"><link type="text/css" rel=stylesheet href="'+exportPdfUtils.toAbsoluteUrl("/css/cksource.css")+'"><div class="cke_editable cke_contents_ltr"><p id="test">Hello, World!</p></div>',expectCss:!1,extraConfig:{removePlugins:"divarea",exportPdf_stylesheets:["/css/ckeditor.css","/css/cksource.css"]}})},"test one relative and one absolute path custom stylesheets attached to classic editor":function(){a({creator:"replace",initialHtml:'<p id="test">Hello, World!</p>',expectedHtml:'<link type="text/css" rel=stylesheet href="'+exportPdfUtils.toAbsoluteUrl("/css/ckeditor.css")+'"><link type="text/css" rel=stylesheet href="https://ckeditor.com/"><div class="cke_editable cke_contents_ltr"><p id="test">Hello, World!</p></div>',expectCss:!1,extraConfig:{removePlugins:"divarea",exportPdf_stylesheets:["/css/ckeditor.css","https://ckeditor.com"]}})}})}))})();